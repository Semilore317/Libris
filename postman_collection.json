{
  "info": {
    "_postman_id": "c1f7b7e0-9b3e-4b5a-9c1c-2c1b2a9d3f1e",
    "name": "Libris API",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Auth",
      "item": [
        {
          "name": "Login (Librarian)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"sarah.connor\",\n  \"password\": \"password\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "auth",
                "login"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Login (Member)",
          "request": {
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"username\": \"frodo.baggins\",\n  \"password\": \"password\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/auth/login",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "auth",
                "login"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Books",
      "item": [
        {
          "name": "Get All Books",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/books",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "books"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Book by ID",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/books/1",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "books",
                "1"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Search Books",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/books/search?query=Tolkien",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "books",
                "search"
              ],
              "query": [
                {
                  "key": "query",
                  "value": "Tolkien"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Book",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{jwt_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"title\": \"The Hitchhiker's Guide to the Galaxy\",\n  \"author\": \"Douglas Adams\",\n  \"ISBN\": \"978-0345391803\",\n  \"publicationYear\": 1979,\n  \"genre\": \"SCIENCE_FICTION\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/books",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "books"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Add Book Instances",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{jwt_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bookId\": 1,\n  \"quantity\": 5\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/books/instances",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "books",
                "instances"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Loans",
      "item": [
        {
          "name": "Checkout Book (Librarian for Member)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{jwt_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bookInstanceId\": 3,\n  \"memberId\": 3,\n  \"dueDate\": \"2025-12-31\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/loans/checkout",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "loans",
                "checkout"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Checkout Book (Self-Service)",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{jwt_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n  \"bookInstanceId\": 4,\n  \"dueDate\": \"2025-12-31\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/loans/checkout",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "loans",
                "checkout"
              ]
            }
          },
          "response": []
        },
        {
          "name": "My Loan History",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{jwt_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/loans/my-history",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "loans",
                "my-history"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Members",
      "item": [
        {
          "name": "Add Member",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{jwt_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [
              {
                "key": "Content-Type",
                "value": "application/json"
              }
            ],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"username\": \"peter.parker\",\n    \"password\": \"password\",\n    \"firstName\": \"Peter\",\n    \"lastName\": \"Parker\",\n    \"email\": \"peter.parker@dailybugle.com\"\n}"
            },
            "url": {
              "raw": "{{baseUrl}}/api/v1/members",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "members"
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get All Members",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{jwt_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/members",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "members"
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Reservations",
      "item": [
        {
          "name": "Create Reservation",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{jwt_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/reservations?bookId=3",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "reservations"
              ],
              "query": [
                {
                  "key": "bookId",
                  "value": "3"
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Reports",
      "item": [
        {
          "name": "Get Dashboard Summary",
          "request": {
            "auth": {
              "type": "bearer",
              "bearer": [
                {
                  "key": "token",
                  "value": "{{jwt_token}}",
                  "type": "string"
                }
              ]
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/api/v1/reports/dashboard",
              "host": [
                "{{baseUrl}}"
              ],
              "path": [
                "api",
                "v1",
                "reports",
                "dashboard"
              ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:8080"
    },
    {
      "key": "jwt_token",
      "value": ""
    }
  ]
}
